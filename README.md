# üß† Branding Platform ‚Äì Backend API (NestJS + MongoDB + PayloadCMS + Vimeo)

> **Full-stack backend –¥–ª—è —Å—É—á–∞—Å–Ω–æ—ó –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ –∑ –∫–µ–π—Å–∞–º–∏, —Ä–µ–π—Ç–∏–Ω–≥–æ–º –¥–∏–∑–∞–π–Ω–µ—Ä—ñ–≤ —ñ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏.**
> –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –Ω–∞ NestJS —ñ–∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é PayloadCMS —Ç–∞ Vimeo API.

---

## üöÄ –û–≥–ª—è–¥

–¶–µ–π –±–µ–∫–µ–Ω–¥ ‚Äî –æ—Å–Ω–æ–≤–∞ –µ–∫–æ—Å–∏—Å—Ç–µ–º–∏ **Branding Platform**, —è–∫–∞ –æ–±‚Äô—î–¥–Ω—É—î –¥–∏–∑–∞–π–Ω–µ—Ä—ñ–≤, —Å—Ç—É–¥—ñ—ó —Ç–∞ –∫–µ–π—Å–∏ –≤ –æ–¥–Ω–æ–º—É –ø—Ä–æ—Å—Ç–æ—Ä—ñ.  
–í—ñ–Ω –∑–∞–±–µ–∑–ø–µ—á—É—î:
- —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤;
- —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é –∫–µ–π—Å—ñ–≤ —ñ–∑ –º—É–ª—å—Ç–∏–º–µ–¥—ñ–π–Ω–∏–º–∏ —Å–µ–∫—Ü—ñ—è–º–∏;
- —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é –∑ **Vimeo API** –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –≤—ñ–¥–µ–æ;
- —Ä–µ–π—Ç–∏–Ω–≥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —ñ —Å–∏—Å—Ç–µ–º—É –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è;
- —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ —á–µ—Ä–µ–∑ **PayloadCMS**;
- –∫–µ—à—É–≤–∞–Ω–Ω—è –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É —á–µ—Ä–µ–∑ Redis.

---

## üß© –û—Å–Ω–æ–≤–Ω—ñ –º–æ–¥—É–ª—ñ

| –ú–æ–¥—É–ª—å | –û–ø–∏—Å |
|:--|:--|
| **Auth / Users** | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (JWT), OTP flow, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é, –∞–≤–∞—Ç–∞—Ä, –ø–æ—Å–∏–ª–∞–Ω–Ω—è, —Ä–µ–π—Ç–∏–Ω–≥ |
| **Cases** | –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–µ–π—Å—ñ–≤ —ñ–∑ —Å–µ–∫—Ü—ñ—è–º–∏ (—Ç–µ–∫—Å—Ç, –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, iframe, –≤—ñ–¥–µ–æ Vimeo), –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è, –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è |
| **Collections** | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ –∫–µ–π—Å—ñ–≤, —Ñ—ñ—á–µ—Ä–∏–Ω–≥, —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (—á–µ—Ä–µ–∑ CMS –∞–±–æ API) |
| **Vimeo Integration** | –û—Ç—Ä–∏–º–∞–Ω–Ω—è upload-URL, –æ–±—Ä–æ–±–∫–∞ webhook-—ñ–≤, —Å—Ç–∞—Ç—É—Å transcoding / ready |
| **Home / Discover** | –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞, –∫–µ—à—É–≤–∞–Ω–Ω—è –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É, —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–Ω–∂—É–≤–∞–Ω–Ω—è |
| **Search** | –ü–æ—à—É–∫ –ø–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞—Ö —ñ –∫–µ–π—Å–∞—Ö —ñ–∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é |
| **Hire CTA** | –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ –Ω–∞–π–º –¥–∏–∑–∞–π–Ω–µ—Ä—ñ–≤ |
| **PayloadCMS** | Headless CMS –¥–ª—è –∫–æ–ª–µ–∫—Ü—ñ–π —ñ –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –±–ª–æ–∫—ñ–≤ |
| **Redis** | –ö–µ—à—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ —ñ TTL-–æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è Discover |

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

| –ö–∞—Ç–µ–≥–æ—Ä—ñ—è | –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó |
|:--|:--|
| **Backend** | [NestJS](https://nestjs.com/) |
| **Database** | [MongoDB](https://www.mongodb.com/) (—á–µ—Ä–µ–∑ Mongoose) |
| **CMS** | [PayloadCMS](https://payloadcms.com/) (Next.js-based) |
| **Cache** | Redis (—á–µ—Ä–µ–∑ ioredis) |
| **Video** | [Vimeo API](https://developer.vimeo.com/api/guides/start) |
| **Storage** | Cloudinary (–∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å) |
| **Queue** | BullMQ (–æ–±—Ä–æ–±–∫–∞ –≤—ñ–¥–µ–æ/—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏) |
| **Auth** | JWT (Access + Refresh), Throttler |
| **Docs** | Swagger UI / Postman Collection |

---



## üß† –ö–ª—é—á–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üîê **JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è** (access + refresh —Ç–æ–∫–µ–Ω–∏)
- üß± **CRUD-–æ–ø–µ—Ä–∞—Ü—ñ—ó** –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –∫–µ–π—Å—ñ–≤ —ñ –∫–æ–ª–µ–∫—Ü—ñ–π
- üéûÔ∏è **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Vimeo API**
  - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è upload-URL
  - webhook —ñ–∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –≤—ñ–¥–µ–æ
- üßÆ **–†–µ–π—Ç–∏–Ω–≥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**
  - –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ –≥–æ–ª–æ—Å—ñ–≤, –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤ —ñ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–µ–π—Å—ñ–≤
- üó≥Ô∏è **–ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑–∞ –∫–µ–π—Å–∏**
  - up/down —Å–∏—Å—Ç–µ–º–∞ –∑ rate-limit
- üß∞ **Headless CMS (Payload)** –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç-—Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ–≤
- ‚ö° **Redis-–∫–µ—à—É–≤–∞–Ω–Ω—è** –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É
- üîé **–ü–æ—à—É–∫ –ø–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞—Ö —ñ –∫–µ–π—Å–∞—Ö**
- üëî **Hire-—Å–∏—Å—Ç–µ–º–∞** (–∑–∞—è–≤–∫–∏ –Ω–∞ —Å–ø—ñ–≤–ø—Ä–∞—Ü—é)
- üßæ **Swagger / Postman** –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

---

## üåê –û—Å–Ω–æ–≤–Ω—ñ API-–µ–Ω–¥–ø–æ—ó–Ω—Ç–∏

### üîë Auth / Users
| –ú–µ—Ç–æ–¥ | –†–æ—É—Ç | –û–ø–∏—Å |
|:--|:--|:--|
| `POST` | `/auth/register` | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| `POST` | `/auth/login` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è |
| `GET` | `/users/me` | –ü–æ—Ç–æ—á–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á |
| `PATCH` | `/users/me` | –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é |
| `POST` | `/users/me/avatar` | –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä—É |
| `PATCH` | `/users/me/password` | –ó–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—é |

### üß± Cases
| –ú–µ—Ç–æ–¥ | –†–æ—É—Ç | –û–ø–∏—Å |
|:--|:--|:--|
| `POST` | `/cases` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–µ–π—Å (—á–µ—Ä–Ω–µ—Ç–∫—É) |
| `PATCH` | `/cases/:id` | –û–Ω–æ–≤–∏—Ç–∏ —Å–µ–∫—Ü—ñ—ó |
| `POST` | `/cases/:id/publish` | –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –∫–µ–π—Å |
| `GET` | `/cases/:slug` | –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–µ–π—Å |
| `POST` | `/cases/:id/vote` | –ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑–∞ –∫–µ–π—Å |

### üß© Collections / Home
| –ú–µ—Ç–æ–¥ | –†–æ—É—Ç | –û–ø–∏—Å |
|:--|:--|:--|
| `GET` | `/collections` | –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó |
| `GET` | `/home/landing` | –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ |
| `GET` | `/home/popular` | –ü–æ–ø—É–ª—è—Ä–Ω—ñ –∫–µ–π—Å–∏ / –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ |

### üé• Vimeo
| –ú–µ—Ç–æ–¥ | –†–æ—É—Ç | –û–ø–∏—Å |
|:--|:--|:--|
| `POST` | `/vimeo/upload-url` | –°—Ç–≤–æ—Ä–µ–Ω–Ω—è upload-URL |
| `POST` | `/vimeo/webhook` | –û–±—Ä–æ–±–∫–∞ webhook-—ñ–≤ Vimeo |

---

## üßæ –ü—Ä–∏–∫–ª–∞–¥ `.env` —Ñ–∞–π–ª—É

```bash
# Server
PORT=4000
NODE_ENV=development

# Mongo
MONGO_URI=mongodb+srv://user:pass@cluster/dbname

# Auth
JWT_ACCESS_SECRET=supersecret
JWT_REFRESH_SECRET=supersecret2
ACCESS_EXPIRES_IN=15m
REFRESH_EXPIRES_IN=7d

# CORS
CORS_ORIGIN=http://localhost:3000,https://yourfrontend.com

# Redis
REDIS_URL=redis://localhost:6379

# Cloudinary
CLOUDINARY_CLOUD_NAME=...
CLOUDINARY_API_KEY=...
CLOUDINARY_API_SECRET=...

# Vimeo
VIMEO_CLIENT_ID=...
VIMEO_CLIENT_SECRET=...
VIMEO_ACCESS_TOKEN=...
VIMEO_WEBHOOK_SECRET=...
VIMEO_WEBHOOK_URL=https://api.yourdomain.com/vimeo/webhook

# PayloadCMS
PAYLOAD_SECRET=...
PAYLOAD_PUBLIC_SERVER_URL=http://localhost:3001

üßÆ –ü—Ä–∏–∫–ª–∞–¥ —Ñ–æ—Ä–º—É–ª–∏ —Ä–µ–π—Ç–∏–Ω–≥—É
score = (upvotes - downvotes) * 0.8 + log(1 + views) * 0.2 + bonus_pro


‚öôÔ∏è –§–æ—Ä–º—É–ª–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞ ‚Äî –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–∏ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ .env –∞–±–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏.
üì¶ –î–µ–ø–ª–æ–π

–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è

git clone https://github.com/yourname/branding-backend.git
cd branding-backend

–Ü–Ω—Å—Ç–∞–ª—è—Ü—ñ—è

npm install

ENV
–°—Ç–≤–æ—Ä–∏ —Ñ–∞–π–ª .env –Ω–∞ –æ—Å–Ω–æ–≤—ñ .env.example.

–ó–∞–ø—É—Å–∫

npm run start:dev

–ë–µ–∫–µ–Ω–¥: http://localhost:4000
CMS: http://localhost:3001

üß† –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è

NestJS + PayloadCMS —É –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó ‚Äî —î–¥–∏–Ω–∞ –∫–æ–¥–æ–≤–∞ –±–∞–∑–∞ –∑ –¥–≤–æ–º–∞ entry-point (API + CMS).

Redis TTL-–∫–µ—à –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –ë–î.

Vimeo —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ webhook ‚Äî –±–µ–∫–µ–Ω–¥ –æ–Ω–æ–≤–ª—é—î —Å—Ç–∞—Ç—É—Å –≤—ñ–¥–µ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

BullMQ —á–µ—Ä–≥–∏ –¥–ª—è —Ñ–æ–Ω–æ–≤–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —Ä–µ–π—Ç–∏–Ω–≥, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è).

Cloudinary CDN ‚Äî –ª–µ–≥–∫–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏.

Swagger ‚Äî –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É.

üìú –ê–≤—Ç–æ—Ä

Backend Developer: Ruslan Zotsenko

Stack: NestJS ‚Ä¢ Node.js ‚Ä¢ MongoDB ‚Ä¢ Redis ‚Ä¢ PayloadCMS ‚Ä¢ Vimeo API
üìç –ß–µ—Ö—ñ—è | üåç –í—ñ–¥–∫—Ä–∏—Ç–∏–π –¥–æ —Ñ—Ä—ñ–ª–∞–Ω—Å/–ø–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫–∏—Ö –ø—Ä–æ—î–∫—Ç—ñ–≤

üèÅ –°—Ç–∞—Ç—É—Å

MVP –≥–æ—Ç–æ–≤–∏–π.
–ü–æ—Ç–æ—á–Ω–∏–π —Ñ–æ–∫—É—Å ‚Äî –º–æ–¥—É–ª—å Collections + Discover + Vimeo —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è + CMS —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è.

